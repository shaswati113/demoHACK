<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🌊 Hurricane Safety Quiz Adventure!</title>
  
  <!-- Anime.js for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600;700&display=swap');

    :root {
      --primary: #3498DB;
      --secondary: #2980B9;
      --accent: #5DADE2;
      --success: #27AE60;
      --error: #E74C3C;
      --dark: #2C3E50;
      --light: #EBF5FB;
      --blue-light: #AED6F1;
      --teal: #1ABC9C;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Fredoka', cursive;
      background: linear-gradient(135deg, #3498db 0%, #2980b9 50%, #1abc9c 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
      position: relative;
    }

    /* Animated background particles - water themed */
    .bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .particle {
      position: absolute;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0.6;
      animation: waterFlow 10s ease-in-out infinite;
    }

    .particle:nth-child(1) { width: 20px; height: 20px; top: 15%; left: 5%; animation-delay: 0s; background: #5DADE2; }
    .particle:nth-child(2) { width: 15px; height: 15px; top: 50%; left: 85%; animation-delay: 3s; background: #AED6F1; }
    .particle:nth-child(3) { width: 25px; height: 25px; top: 75%; left: 25%; animation-delay: 6s; background: #3498DB; }
    .particle:nth-child(4) { width: 18px; height: 18px; top: 30%; left: 65%; animation-delay: 2s; background: #1ABC9C; }
    .particle:nth-child(5) { width: 12px; height: 12px; top: 5%; left: 45%; animation-delay: 4s; background: #2980B9; }

    @keyframes waterFlow {
      0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.6; }
      25% { transform: translateY(20px) translateX(-15px) rotate(90deg); opacity: 0.8; }
      50% { transform: translateY(40px) translateX(-30px) rotate(180deg); opacity: 1; }
      75% { transform: translateY(60px) translateX(-20px) rotate(270deg); opacity: 0.9; }
    }

    .container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 30px;
      width: 90%;
      max-width: 650px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      text-align: center;
      display: none;
      position: relative;
      z-index: 10;
      overflow: hidden;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 8px;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--teal), var(--accent));
      border-radius: 30px 30px 0 0;
    }

    .container.active {
      display: block;
      animation: slideIn 0.6s ease-out;
    }

    @keyframes slideIn {
      from { 
        opacity: 0; 
        transform: translateY(50px) scale(0.9); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }

    .container-content {
      padding: 50px 40px 40px;
    }

    h2 {
      color: var(--dark);
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 25px;
      background: linear-gradient(45deg, var(--primary), var(--teal));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .welcome-emoji {
      font-size: 60px;
      margin-bottom: 20px;
      display: inline-block;
      animation: waterWave 3s ease-in-out infinite;
    }

    @keyframes waterWave {
      0%, 100% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(-10deg); }
      50% { transform: scale(1.05) rotate(10deg); }
      75% { transform: scale(1.15) rotate(-5deg); }
    }

    input[type="text"] {
      padding: 18px 25px;
      width: 100%;
      max-width: 350px;
      border: 3px solid var(--secondary);
      border-radius: 25px;
      font-size: 18px;
      font-family: 'Fredoka', cursive;
      font-weight: 400;
      margin-bottom: 25px;
      background: white;
      color: var(--dark);
      outline: none;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
    }

    input[type="text"]:focus {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
      border-color: var(--primary);
    }

    .btn {
      background: linear-gradient(135deg, var(--primary), var(--teal));
      color: white;
      padding: 18px 35px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 18px;
      font-family: 'Fredoka', cursive;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(52, 152, 219, 0.4);
    }

    .btn:active {
      transform: translateY(-1px);
    }

    .scenario-container {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 35px;
      color: var(--dark);
      line-height: 1.4;
      padding: 25px;
      background: linear-gradient(135deg, var(--light), var(--blue-light));
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(52, 152, 219, 0.2);
      text-align: left;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--light);
      border-radius: 10px;
      margin-bottom: 30px;
      overflow: hidden;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--success), var(--teal));
      border-radius: 10px;
      transition: width 0.5s ease;
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .options-container {
      display: grid;
      gap: 15px;
      margin-bottom: 30px;
    }

    .option-btn {
      background: white;
      color: var(--dark);
      border: 3px solid var(--secondary);
      padding: 20px 25px;
      border-radius: 20px;
      font-size: 16px;
      font-family: 'Fredoka', cursive;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      text-align: left;
    }

    .option-btn:hover:not(:disabled) {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(52, 152, 219, 0.3);
      border-color: var(--primary);
    }

    .option-btn.correct {
      background: var(--success) !important;
      color: white !important;
      border-color: var(--success) !important;
      animation: correctPulse 0.6s ease;
    }

    .option-btn.wrong {
      background: var(--error) !important;
      color: white !important;
      border-color: var(--error) !important;
      animation: shake 0.5s ease;
    }

    @keyframes correctPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    .score-display {
      position: absolute;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 16px;
      box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
    }

    .life-hack {
      background: linear-gradient(135deg, #3498db, #1abc9c);
      color: white;
      padding: 20px;
      border-radius: 15px;
      margin: 20px 0;
      font-size: 16px;
      display: none;
      box-shadow: 0 10px 25px rgba(52, 152, 219, 0.3);
      text-align: left;
    }

    .life-hack.show {
      display: block;
      animation: slideUp 0.5s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result-container {
      text-align: center;
    }

    .result-emoji {
      font-size: 80px;
      margin-bottom: 20px;
      display: inline-block;
      animation: celebrate 1s ease-in-out;
    }

    @keyframes celebrate {
      0% { transform: scale(0) rotate(0deg); }
      50% { transform: scale(1.2) rotate(180deg); }
      100% { transform: scale(1) rotate(360deg); }
    }

    #result-message {
      font-size: 28px;
      color: var(--dark);
      margin-bottom: 30px;
      font-weight: 600;
    }

    .fun-facts {
      background: linear-gradient(135deg, var(--blue-light), var(--light));
      padding: 20px;
      border-radius: 15px;
      margin: 20px 0;
      font-size: 16px;
      color: var(--dark);
      text-align: left;
    }

    /* Water-themed confetti animation */
    .confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    .confetti-piece {
      position: absolute;
      width: 10px;
      height: 10px;
      background: var(--primary);
      animation: confetti-fall 3s linear infinite;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    @media (max-width: 600px) {
      .container-content {
        padding: 40px 25px 30px;
      }
      
      h2 {
        font-size: 26px;
      }
      
      .scenario-container {
        font-size: 18px;
        padding: 20px;
      }

      .option-btn {
        font-size: 15px;
        padding: 18px 20px;
      }
    }
  </style>
</head>

<body>
  <div class="bg-particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <!-- Name Entry Page -->
  <div class="container active" id="name-input-page">
    <div class="container-content">
      <div class="welcome-emoji">🌊</div>
      <h2>Hurricane Safety Quiz!</h2>
      <p style="font-size: 18px; color: #4A5568; margin-bottom: 25px; font-weight: 500;">
        Ready to test your hurricane safety knowledge? Let's see how prepared you are! ⛑️
      </p>
      <input type="text" id="username" placeholder="Enter your name!" />
      <br />
      <button class="btn" id="start-btn">🌊 Start Quiz!</button>
    </div>
  </div>

  <!-- Quiz Page -->
  <div class="container" id="quiz-container">
    <div class="container-content">
      <div class="score-display" id="score-display">Score: 0</div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
      </div>
      <div id="scenario-container" class="scenario-container"></div>
      <div id="options-container" class="options-container"></div>
      <div id="life-hack" class="life-hack">
        <strong>🛠️ Survival Hack:</strong> <span id="life-hack-text"></span>
      </div>
      <button class="btn" id="next-btn" style="display:none;">🌊 Next Question</button>
    </div>
  </div>

  <!-- Result Page -->
  <div class="container" id="result-page">
    <div class="container-content result-container">
      <div class="result-emoji" id="result-emoji">🎉</div>
      <h2 id="result-message"></h2>
      <div class="fun-facts" id="fun-facts"></div>
      <button class="btn" onclick="restartQuiz()">🔄 Play Again!</button>
    </div>
  </div>

  <script>
    const quizData = [
  {
    id: 1,
    question: "🌪️ Q1. A hurricane is 24 hours away. What should you do?",
    options: [
      "A. Go to the beach to watch the waves",
      "B. Stock up, secure your home, and prep to evacuate",
      "C. Open windows to equalize pressure",
      "D. Wait and see"
    ],
    correct: 1,
    lifeHack: "Charge devices, board windows, fill bathtubs with water, and prepare your go-bag."
  },
  {
    id: 2,
    question: "🏠 Q2. What is a safe shelter during a hurricane?",
    options: [
      "A. A car",
      "B. A beach house",
      "C. A mobile home",
      "D. An interior room without windows"
    ],
    correct: 3,
    lifeHack: "Use a windowless room on the lowest level — like a bathroom or closet."
  },
  {
    id: 3,
    question: "🧊 Q3. What should you do with your refrigerator before a hurricane?",
    options: [
      "A. Unplug it",
      "B. Leave it open",
      "C. Set to coldest setting and keep closed",
      "D. Empty it completely"
    ],
    correct: 2,
    lifeHack: "Fill it with ice and freeze containers of water to preserve food during power outages."
  },
  {
    id: 4,
    question: "🚰 Q4. How much water should you store per person per day?",
    options: [
      "A. 1 cup",
      "B. 1 liter",
      "C. 1 gallon",
      "D. 2 gallons"
    ],
    correct: 2,
    lifeHack: "Store 1 gallon per person per day for at least 3 days. Include water for pets too."
  }
];

    let currentQuestionIndex = 0;
    let score = 0;
    let userName = "";

    const nameInputPage = document.getElementById("name-input-page");
    const quizContainer = document.getElementById("quiz-container");
    const scenarioContainer = document.getElementById("scenario-container");
    const optionsContainer = document.getElementById("options-container");
    const nextBtn = document.getElementById("next-btn");
    const resultPage = document.getElementById("result-page");
    const resultMessage = document.getElementById("result-message");
    const scoreDisplay = document.getElementById("score-display");
    const progressFill = document.getElementById("progress-fill");
    const lifeHackElement = document.getElementById("life-hack");
    const lifeHackText = document.getElementById("life-hack-text");

    document.getElementById("start-btn").addEventListener("click", () => {
      const input = document.getElementById("username").value.trim();
      if (!input) {
        anime({
          targets: "#username",
          scale: [1, 1.05, 1],
          duration: 200,
          easing: "easeInOutSine",
        });
        return;
      }
      userName = input;
      nameInputPage.classList.remove("active");
      quizContainer.classList.add("active");
      updateProgress();
      loadQuestion();
    });

    function updateProgress() {
      const progress = ((currentQuestionIndex) / quizData.length) * 100;
      progressFill.style.width = progress + '%';
      scoreDisplay.textContent = `Score: ${score}`;
    }

    function loadQuestion() {
      const current = quizData[currentQuestionIndex];
      scenarioContainer.textContent = current.question;
      
      // Hide life hack initially
      lifeHackElement.classList.remove("show");

      anime({
        targets: "#scenario-container",
        opacity: [0, 1],
        scale: [0.9, 1],
        duration: 600,
        easing: "easeOutElastic(1, .8)",
      });

      optionsContainer.innerHTML = "";

      current.options.forEach((option, index) => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.classList.add("option-btn");
        btn.onclick = () => selectOption(btn, index);
        optionsContainer.appendChild(btn);

        anime({
          targets: btn,
          opacity: [0, 1],
          translateY: [30, 0],
          delay: index * 150,
          duration: 600,
          easing: "easeOutCubic",
        });
      });

      nextBtn.style.display = "none";
    }

    function selectOption(button, selectedIndex) {
      const current = quizData[currentQuestionIndex];
      const buttons = document.querySelectorAll(".option-btn");

      buttons.forEach((btn) => (btn.disabled = true));

      if (selectedIndex === current.correct) {
        score++;
        button.classList.add("correct");
        createCelebrationEffect();
      } else {
        button.classList.add("wrong");
        buttons[current.correct].classList.add("correct");
      }

      // Show life hack after answer is selected
      lifeHackText.textContent = current.lifeHack;
      setTimeout(() => {
        lifeHackElement.classList.add("show");
      }, 1000);

      updateProgress();
      nextBtn.style.display = "inline-block";
      
      anime({
        targets: "#next-btn",
        scale: [0, 1],
        duration: 400,
        delay: 1500,
        easing: "easeOutElastic(1, .8)",
      });
    }

    function createCelebrationEffect() {
      // Create water-themed sparkles
      const waterEmojis = ["💧", "🌊", "💦", "✨", "💙"];
      for (let i = 0; i < 10; i++) {
        const sparkle = document.createElement("div");
        sparkle.innerHTML = waterEmojis[Math.floor(Math.random() * waterEmojis.length)];
        sparkle.style.position = "fixed";
        sparkle.style.left = Math.random() * window.innerWidth + "px";
        sparkle.style.top = Math.random() * window.innerHeight + "px";
        sparkle.style.fontSize = "22px";
        sparkle.style.zIndex = "1000";
        sparkle.style.pointerEvents = "none";
        document.body.appendChild(sparkle);

        anime({
          targets: sparkle,
          translateY: -120,
          opacity: [1, 0],
          rotate: Math.random() * 180,
          scale: [1, 1.5, 0.5],
          duration: 2500,
          easing: "easeOutCubic",
          complete: () => sparkle.remove()
        });
      }
    }

    nextBtn.onclick = () => {
      currentQuestionIndex++;
      if (currentQuestionIndex < quizData.length) {
        updateProgress();
        loadQuestion();
      } else {
        showResult();
      }
    };

    function showResult() {
      quizContainer.classList.remove("active");
      resultPage.classList.add("active");

      const percentage = (score / quizData.length) * 100;
      let emoji, message, encouragement;

      if (percentage === 100) {
        emoji = "🏆";
        message = `PERFECT SCORE! ${userName}, you're flood-safety ready!`;
        encouragement = "You got every single question right! You're prepared for Hurricane emergencies! ⛑️";
        createConfetti();
      } else if (percentage >= 75) {
        emoji = "🌟";
        message = `Excellent, ${userName}! You scored ${score}/${quizData.length}!`;
        encouragement = "You know your hurricane safety well! Stay prepared! 🌊";
      } else if (percentage >= 50) {
        emoji = "📚";
        message = `Good effort, ${userName}! You got ${score}/${quizData.length} correct!`;
        encouragement = "You're learning! Review these tips to improve your hurricane safety knowledge. 💪";
      } else {
        emoji = "⚠️";
        message = `Keep studying, ${userName}! You scored ${score}/${quizData.length}!`;
        encouragement = "Hurricane safety is crucial! Review these tips and try again. 🌊";
      }

      document.getElementById("result-emoji").textContent = emoji;
      resultMessage.textContent = message;
      
      // Show a random life hack from one of the questions
      const randomLifeHack = quizData[Math.floor(Math.random() * quizData.length)].lifeHack;
      document.getElementById("fun-facts").innerHTML = `
        <strong>🎯 ${encouragement}</strong><br><br>
        <strong>🛠️ Remember this Survival Hack:</strong> ${randomLifeHack}
      `;

      anime({
        targets: "#result-emoji",
        rotate: [0, 360],
        scale: [0, 1],
        duration: 1000,
        easing: "easeOutElastic(1, .8)",
      });

      anime({
        targets: "#result-message",
        opacity: [0, 1],
        translateY: [30, 0],
        delay: 500,
        duration: 800,
        easing: "easeOutCubic",
      });
    }

    function createConfetti() {
      const confettiContainer = document.createElement("div");
      confettiContainer.classList.add("confetti");
      document.body.appendChild(confettiContainer);

      const colors = ["#3498DB", "#2980B9", "#5DADE2", "#1ABC9C", "#AED6F1", "#27AE60"];
      const waterShapes = ["💧", "🌊", "⭐", "💫", "✨", "🌟", "💦"];

      for (let i = 0; i < 70; i++) {
        const confettiPiece = document.createElement("div");
        
        if (Math.random() > 0.3) {
          // Regular confetti pieces
          confettiPiece.classList.add("confetti-piece");
          confettiPiece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confettiPiece.style.width = (Math.random() * 14 + 8) + "px";
          confettiPiece.style.height = (Math.random() * 14 + 8) + "px";
        } else {
          // Water-themed emoji confetti
          confettiPiece.innerHTML = waterShapes[Math.floor(Math.random() * waterShapes.length)];
          confettiPiece.style.fontSize = (Math.random() * 18 + 12) + "px";
        }
        
        confettiPiece.style.position = "absolute";
        confettiPiece.style.left = Math.random() * 100 + "%";
        confettiPiece.style.animationDelay = Math.random() * 3 + "s";
        confettiPiece.style.animationDuration = (Math.random() * 4 + 3) + "s";
        confettiPiece.classList.add("confetti-piece");
        confettiContainer.appendChild(confettiPiece);
      }

      // Add floating water drop celebrations
      setTimeout(() => {
        for (let i = 0; i < 8; i++) {
          const celebration = document.createElement("div");
          celebration.innerHTML = "🚤";
          celebration.style.position = "fixed";
          celebration.style.left = Math.random() * window.innerWidth + "px";
          celebration.style.bottom = "-50px";
          celebration.style.fontSize = "30px";
          celebration.style.zIndex = "1001";
          celebration.style.pointerEvents = "none";
          document.body.appendChild(celebration);

          anime({
            targets: celebration,
            translateY: -window.innerHeight - 100,
            translateX: Math.sin(i * 0.6) * 120,
            rotate: Math.random() * 360,
            duration: 8000,
            delay: i * 300,
            easing: "easeOutQuad",
            complete: () => celebration.remove()
          });
        }
      }, 1000);

      setTimeout(() => confettiContainer.remove(), 12000);
    }

    function restartQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      userName = "";
      document.getElementById("username").value = "";
      resultPage.classList.remove("active");
      nameInputPage.classList.add("active");
      progressFill.style.width = "0%";
    }
  </script>
</body>
</html>